# Python 学习笔记 2024 年寒假

## 一、编程入门练习

### 1. 求素数（穷举法及优化）

**题目: 求100之内的素数（质数）。**

> 素数（质数）是指在大于1的自然数中，除了1和它本身以外不再有其他因数的自然数。

**要求**：

- 写一个函数 isPrime(n) 判断 n 是否是素数，如果是则返回 True，否则返回 False；

- 然后用1-100的循环调用这个函数，判断每一个数字是否是素数并输出，如：
  
  > 素数：2, 3, 5, 7, 11, ....
  > 非素数：1, 4, 6, 8, 9, 10, ... 

**基本思路：**

对于 n，用从 2 到 (n-1) 的数去整除 n，只要有一个数能整除则 n 不是素数，反之是素数。

**要点提示：**

1. **注意要求的范围**：比如题目中 1 到 100，是否包含1、是否包含100？
   
   > 数学上把 (1, 100] 这样的集合称为：前开后闭的集合，范围是 1 < n ≤ 100，不包含1、包含100。类似的集合还有 (1, 100)，[1, 100]，(1, 100]，[1, 100)，以此类推。
   
   因为 1 不是素数（质数），所以本题的范围应该是？

2. **注意循环的起始和结束的边界范围**：比如 for i in range(1, 100)，对应上面的集合是哪一种？
   
   注意：不同计算机编程语言中，甚至相同编程语言中不同函数，它们的取值范围可能不一样。
   
   > 例如， range(1, 100) 对应的集合是 [1, 100)，而 range(100) 对应的集合是 [0, 100)。
   > 
   > 再例如，Python 中长度为 n 的列表的索引是从 0 开始到 n-1，范围是 [0, n)。代码中可用 range(n) 或者 range(0, n) 获得这个范围的整数值。如果试图用超过这个范围的数值作为索引访问列表中的某一项时，会导致代码运行时出现错误。

3. **注意整除与除的区别**：
   
   > 两种方法判断是否整除，常用“求余数”的方法，“求余”又称为“求模”。
   > 一个数除以另外一个数，余数为零，是整除。
   > 
   > 数学角度：
   > 
   > 10 ÷ 3 = 3 ... 1 —— 十除以三，商为三，余数为一，
   > 
   > 用求余/求模运算：10 % 3 = 1。
   > 
   > 编程角度：
   > 
   > 10 / 3 = 3.3333... 小数点后有几位，取决于不同的数据类型所保留精度的范围。
   > 
   > 整除运算：10 // 3 = 3 —— 十整除三，商为三，没有余数，此为 “整除” 。
   > 
   > 在编程中，整除也可以用除后保留整数部分来实现，例如取整函数、将浮点型转换为整型来实现。因为不同编程语言细节有差异，暂不展开。

4. **逐步优化算法**：先用代码编写出最简单的算法，再进一步优化。
   
   ---

### 2. 回文数

**题目：找出四位数中的回文数，打印并计算个数。**

> 回文数是对称数，指正向读与反向读是相同的，如12321,33433等。

**解法思路：（<u>先不要看，自己想了再对照</u>）**

因此可以利用正向与反向相同或对称位数字相同来判断。

1. 反转字符串：利用**字符串反转**，**数值转字符串**，比较反转前后的**字符串的数值**；
   
   1. Python 特有的方法，在其它语言中<u>**非通用**</u>
   
   2. Python 列表自带的函数，在不支持类似方法的语言中<u>**非通用**</u>

2. 转字符串：**判断对称位置字符是否相同**：
   
   1. 转为列表，用索引取列表中对称位置的字符**进行字符比较**；
   
   2. 不转为列表，用字符串操作函数取对称位置的的字符**进行字符比较**；

3. 不转字符串，**用数学方法取数值的对称位置的数字**（digit）<u>**进行数值比较**</u>。
   
   **<u><mark>——都要掌握，尤其必须掌握 解法思路3 </mark></u>**

**编程扩展：**

1. 熟悉数值转字符串、字符串转数值的操作；

2. 对比 Python 中两种取字符的方式：
   
   1. 用 for 枚举字符串中的每个字符；
   
   2. 用 for i in range(n) 循环，并用索引方式访问字符串中的每个字符的方式 list[i] 
      ——此种方式更通用，可适用于其它语言，如 C/C++、Java/C# 等。

3. 熟悉 Python 特有的取逆向字符串的方式，但要学会用其它方法实现：
   
   1. Python 特有/<u><strong>非通用</strong></u>，**<u>反向取字符串:</u> string[ : :-1]**
      ——其它编程语言不支持
      
      ```python
      def isHuiWenShu1(number:int):
          # 获得数字对应的字符串
          digits = str(number)
          # 逆向取字符串
          reverseDigits = digits[ : :-1] 
          # 返回两个列表是否相等的逻辑值 
          return digits == reverseDigits
      ```
   
   2. Python 特有/<u><strong>非通用</strong></u>，<u>将列表反序</u>： list.reverse()
      ——部分语言内置函数库或开发框架也有类似方法
      
      ```python
      def isHuiWenShu2(number:int):
          # 获得数字对应的字符串
          digits = str(number)
          # 从字符串构造列表
          digitList = list(digits) # ['1', '2', '3', '4', '5']
          # 逆向取新的列表
          reverseList = digitList.reverse() # ['5', '4', '3', '2', '1']
          #text = "".join(reverseList) # 可将数组元素连接为字符串用于显示等
          # 返回两个列表是否相等的逻辑值
          return digitList == reverseList
      ```
   
   3. **通用方法，语言无关**：<u>用字符串操作判断对应位置字符是否相同</u>。
      
      **注：练习使用正确的索引值范围，避免出错。**
      
      **注：不同编程语言的字符串取值操作方式和函数不同。**
      
      ——略，请自行练习。
   
   4. **通用方法，语言无关**：<u>用列表操作判断对应位置字符是否相同</u>。
      
      注：与上一项区别不大，需要用到字符串转列表的函数 `list(str(number))`
      
      **注：不同语言的字符串取值操作方式和函数不同。**
      
      略，请自行练习。
   
   5. **通用方法，语言无关**：**<mark> 用数学方法取数值的对称位置的数字 </mark>**
      
      **思路提示1：**
      
      > 十进制数的每一位，对应的数学含义是 10 的 n-1 次方。
      > 
      > 例如：12345
      > 
      > 千位对应着 10 的 3-1 次方，也就是 100；
      > 
      > 12345 的千位是 2，意味着 2 个 1000；百位是 3，意味着 3 个 100，以此类推。
      
      例如：12345 整个数字拆分为：
      
      $$
      1*10^4 + 2*10^3 + 3*10^2 + 4*10^1 + 5*10^0
      $$
      
      也就是：
      
      $$
      10000 + 2000 + 300 + 40 + 5 = 12345
      $$
      
      **思路提示2：**
      
      > 求某个数字的某位上的数字是几，可以将该数字缩小 10 的 n-1 次方倍，然后求其除以 10 的余数。
      > 
      > 例如：12345 的百位上的数字是：(12345 // 100) % 10 = 3
      > 
      > 求 12345 百位上的数字，则先将 12345 缩小 100 倍（10的2次方），抛弃小数点后的部分得到 123（直接整除），然后除以 10 求余数（对 10 求模）。
      > 
      > 类似，求 12345 千位上的数字：(12345 // 1000) % 10 = 2
      
      <mark>**扩展练习：**</mark>
      
      根据以上提示，请自行完成以下代码：
      
      ```python
      # 用数学方法求指定位置上的数字，比如 12345，求第右边数第2位（十位）和第4位（千位）
      def qiuMouWeiShuZi(number:int, pos:int):
          x = number    # 比如 12345
          # 略，考验你的时候到了，请自行补全代码
      
          return x
      
      def isHuiWenShu5(number:int):
          # 请自行补全代码，加上循环对比每一位与对称位置的数字
          #for i in ...
              #digit1 = qiuMouWeiShuZi(n, i??)
              #digit2 = qiuMouWeiShuZi(n, i??)
              #print(digit1, digit2, digit1 == digit2)
              # 如果不相等，则
      
              # 否则
          #return True/False ?
      ```

**拓展知识：<mark>进制转换</mark>**

> 因为不同进制的“数字”的定义的区别在于“逢几进位”——比如二进制是逢2进位，八进制是逢8进位，十进制是逢10进位，十六进制是逢16进位，等等。
> 
> 所以，在任意进制之间转换的方法是相同的，因为：
> 
> 每一位代表着该进制的 n-1 次方
> 
> 每一位上的数字是几，意味着有几个 n-1 次方
> 
> 例如十进制的 12345 意味着：
> 
> $1*10^4 + 2*10^3 + 3*10^2 + 4*10^1 + 5*10^0$
> 
> = 1 * 10000 + 2 * 1000 + 3 * 100 + 4 * 10 + 5 * 1 = 12345
> 
> 八进制的 12345 意味着（转为十进制）：
> 
> $1*8^4 + 2*8^3 + 3*8^2 + 4*8^1 + 5*8^0$
> 
> = 1 * 4096 + 2 * 512 + 3 * 64 + 4 * 8 + 5 * 1 = 5349
> 
> 十六进制的 12345 意味着（转为十进制）：
> 
> $1*16^4 + 2*16^3 + 3*16^2 + 4*16^1 + 5*16^0$
> 
> = ... ... 不妨自己试一试？
> 
> 二进制的 12345 呢？
> 
> ——不好意思，**二进制中没有2及以上的数字**：因为逢2进位，十进制的 "2" 在二进制中表示为 "10"。

现在，你学会了十进制与八进制、十六进制的转换，与二进制如何转换也难不倒你了。

请动手试一试、练一练，在二进制与十进制之间的转换。

补充一点有意思的：

**二进制 与 八进制、十六进制 之间的转换非常简单**，远远不需要像十进制与它们之间的转换那么麻烦。

<mark>**扩展思考：** </mark>为什么简单？

——**请想一想二、八、十六之间的关系，可以如何简化？**

### 3. 求水仙花数

**题目：** 水仙花数是一个三位数，其各个位上的数字的立方和等于该数本身。

**基本思路：**

> 也就是说，如果一个三位数的个位数字的立方、十位数字的立方和百位数字的立方之和等于这个三位数本身，那么这个数就被称为水仙花数。例如，153是一个水仙花数，因为 1^3 + 5^3 + 3^3 = 153。

很显然，又需要拆分数字了。

有了上一次判断回文数的经验，拆分数字有很多种方法。这一次的练习，重点在复习和巩固的基础上，学习和练习 Python 特有的【<mark>推导式</mark>】，理解和掌握【<mark>可迭代/可枚举类型</mark>】。

注意：部分编程语言有类似的方式实现类似的功能，但 Python 将之内置在 “语言” 级别提供，而不需要依赖外部函数等。

请先自行实现判断一个数字是否是水仙花数的函数，对照看下面的代码如何演进。

1. **版本 1.0：** 通用解法
   
   ```python
   # 判断一个数字是否是水仙花数，这里默认按每位上的数字的三次方计算
   def isShuiXianHuaShu1(number:int, power:int = 3):
      # 将整数值的 number 转为字符串 digits
      digits = str(number)
      summary = 0    # 这一句可以省略：Python 中不需要定义变量和赋予初始值
      for i in range(len(digits)):       # 循环，用 number 的长度作为循环次数
          item = int(digits[i])**power   # 计算每一位的 power 次方
          summary += item                # 累加
   
      return summary == number    # 是否是水仙花数   # 累加
   ```

2. **版本 2：** **基于索引的循环和取值方式改为迭代**
   
   将 “循环获取每一位数字字符并求 power 次幂后进行累加” 这部分改为 
   
   ```python
   for digit in digits:           # 迭代 number 的每一位
       item = int(digit)**power   # 计算每一位的 p
   ```
   
   这样 <u>遍历数据结构的每一项</u> 的写法，叫做迭代（又叫枚举）。
   
   ——只有<mark> 支持迭代/枚举的数据类型 </mark>能用这样的方法；
   
   ——这样的数据类型又叫做 "<mark> 可迭代类型/可枚举类型 </mark>"；
   
   ——Python 中的列表、元组、字典是 “ **可迭代类型/可枚举类型** ”；
   
   ——注意：**部分语言支持迭代/枚举，所以需要掌握通用方法**。
   
   ```python
   # 判断一个数字是否是水仙花数，这里默认按每位上的数字的三次方计算
   def isShuiXianHuaShu2(number:int, power:int = 3):
       # 将整数值的 number 转为字符串 digits
       digits = str(number)
   
       summary = 0    # 这一句可以省略：Python 中不需要定义变量和赋予初始值
       for digit in digits:           # 迭代 number 的每一位
           item = int(digit)**power   # 计算每一位的 power 次方
           summary += item            # 累加
   
       return summary == number    # 是否是水仙花数
   ```

3. **版本 3：** **Python 推导式**
   
   用 Python 推导式，将 digits 字符串中的每一位转换成数值再求 power 次幂。
   
   ```python
   # 判断一个数字是否是水仙花数，这里默认按每位上的数字的三次方计算
   def isShuiXianHuaShu3(number:int, power:int = 3):
       # 将整数值的 number 转为字符串 digits
       digits = str(number)
       # 用推导式生成一个列表，列表中的每个元素是 number 的每一位的 power 次方
       list = [int(digit)**power for digit in digits]
       # digit 是式子中的临时变量
   
       summary = 0    # 这一句可以省略：Python 中不需要定义变量和赋予初始值
       for item in list:           # 迭代列表中的每一个元素，对应 number 的每一位的 power 次方
           summary += item         # 累加
   
       return summary == number    # 是否是水仙花数
   ```

4. **版本4**：将迭代列表并累加求和部分，改为 Python 内置函数 $sum()$
   
   注意：$sum()$ 函数可以对 <u>列表、元组、字典</u> 进行求和。
   ——注意观察：它们是 “<mark> **可迭代类型/可枚举类型** </mark>”，所以，... ...，请多想一想。
   
   ```python
   # 判断一个数字是否是水仙花数，这里默认按每位上的数字的三次方计算
   def isShuiXianHuaShu4(number:int, power:int = 3):
       digits = str(number)
       list = [int(digit)**power for digit in digits]     #推导式， digit 是式子中的临时变量
       summary = sum(list)         # 用 Python 内置的 sum 函数计算列表中所有元素的和
   
       return summary == number    # 是否是水仙花数素的和
   ```

5. 版本5：基于 Python 语法糖的**极简 “优化”**

```python
# 判断一个数字是否是水仙花数：极简版本
def isShuiXianHuaShu5(number:int, power:int = 3):
    return number == sum(int(digit)**power for digit in str(number))
```

<mark>**扩展练习：**</mark>

> 请仿照 $sum()$ 自行编写一个函数 $summary()$ ，用来对 <u>列表、元组、字典</u> 求和。记住：Python 中的列表、元组、字典是 “ **可迭代类型/可枚举类型** ”
> 
> 再注意一下，<u>对 字典 求和</u>，与 <u>对 列表、元组 求和</u> 有什么不同之处？

### 4. 求阶和、阶乘（递推和递归）

### 5. 求斐波那契数列（递推和递归）

### 6. 求最大公约数：辗转相除法（递归）

### 7. 汉诺塔（递归）

### 8. 八皇后问题（递归）

## 二、算法入门

### 1. 查找

### 2. 排序

#### 2.1 冒泡排序

#### 2.2 选择排序

#### 2.3 快速排序
